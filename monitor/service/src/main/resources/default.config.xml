<?xml version="1.0" encoding="utf-8"?>
<root>
    <server>
        <applicationConnectors>
            <!-- HTTP-specific options -->
            <http>
                <!-- The port on which the HTTP server listens for service requests.
                     Because Java cannot drop privileges in a POSIX system, these
                     ports cannot be in the range 1-1024. A port value of 0 will
                     make the OS use an arbitrary unused port. -->
                <port>8750</port>
                <!-- Enables SO_LINGER on the server socket with the specified
                     linger time. By default, uses the system default. -->
                <soLingerTime>10s</soLingerTime>
                <!-- The maximum amount of time a connection is allowed to be idle before being closed.-->
                <idleTimeout>10s</idleTimeout>
            </http>
        </applicationConnectors>
        <adminConnectors>
            <http>
                <!-- The port on which the HTTP server listens for administrative
                     requests. Subject to the same limitations as "port". If this is
                     set to the same value as port, the admin routes will be mounted
                     under /admin. -->
                <port>8751</port>
                <!-- Enables SO_LINGER on the server socket with the specified
                     linger time. By default, uses the system default. -->
                <soLingerTime>10s</soLingerTime>
                <!-- The maximum amount of time a connection is allowed to be idle before being closed.-->
                <idleTimeout>10s</idleTimeout>
            </http>
        </adminConnectors>
    </server>
    <metadata>
        <application>mercury-monitor</application>
        <!--team name-->
        <owner>Core</owner>
        <!--team email-->
        <email>agora-core@elance-odesk.com</email>
        <!--summary of the service functionality-->
        <summary>Mercury Monitor service</summary>
        <!-- keep it here like this, shall be replaced on resource filtering step with, in **/service/pom.xml filtering shall be included  -->
        <version>${project.version}</version>
        <repoUrl>http://stash.odesk.com/projects/AGORA/repos/agora-mercury/browse</repoUrl>
    </metadata>
    <eureka>
        <name>mercury-monitor</name>
        <port>8638</port>
        <vipAddress>mercury-monitor.mercury.odesk.com</vipAddress>
    </eureka>

    <mercury>
        <publisher>
            <topicsForPublishing>MercuryMonitor</topicsForPublishing>
        </publisher>
        <consumer>
            <subscription1>
                <topicName>MercuryMonitor</topicName>
                <pollingIntervalMs>5000</pollingIntervalMs>
                <maxReceiveCount>1</maxReceiveCount>
                <dlq>
                    <enabled>false</enabled>
                </dlq>
            </subscription1>
        </consumer>
    </mercury>

    <publicationIntervalMillis>5000</publicationIntervalMillis>
    <messageFailedLatencyMillis>30000</messageFailedLatencyMillis>

</root>
